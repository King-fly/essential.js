/*!
 * Essential.js
 * Functional JavaScript "the right way"
 * @author Cedric Ruiz
 * @license MIT
 */
!function(n){"use strict";var t=function(n){return Array.prototype.slice.call(n)},r=function(n){return function(){var r=t(arguments),e=r.slice(0,n.length-1),u=r.slice(n.length-1);return n.apply(this,e.concat([u]))}},e=r(function(n){return n.reduce(function(n,t){return function(){return n(t.apply(this,arguments))}})}),u=r(function(n,t){return r(function(r){for(var e=t.concat(r),u=e.length;u>=0;u--)void 0===e[u]&&(e[u]=e.splice(-1)[0]);return n.apply(this,e)})}),c=function(n){return function t(e){var u=r(function(r){var u=(e||[]).slice(0);return u.push.apply(u,r)<n.length&&r.length?t(u):n.apply(null,u)});return n.length>1?u:n}()},i=function(n){return r(function(t){return n.apply(this,t.reverse())})},o=c(function(n,t){return Object.keys(t).forEach(function(r){n[r]=t[r]}),n}),f=c(function(n,t){return n===t}),a=c(function(n,t){return n!==t}),l=c(function(n,t){return Object.prototype.toString.call(t).slice(8,-1)==n}),p=function(n){return function(){return!n.apply(this,arguments)}},s=c(function(n,t){return t.some(n)}),y=c(function(n,t){return t.every(n)}),h=c(function(n,t,r){return r.reduce(n,t)}),d=c(function(n,t){return t.map(n)}),v=c(function(n,t){return t.filter(n)}),g=p(v),m=function(n){return n.filter(function(t,r){return n.indexOf(t)==r})},b=function(n){return n.reduce(function(n,t){return n.concat([].concat(t).some(Array.isArray)?b(t):t)},[])},j=c(function(n,t){return String(n).split(".").reduce(function(n,t){return null!=n[t]?n[t]:null},t)}),k=c(function(n,t){for(var r=[];t=j(n,t);)r.push(t);return r}),x=c(function(n,t){return t.filter(function(t){return Object.keys(n).every(function(r){return n[r]==t[r]})})}),A=r(function(n){return n[0].map(function(t,r){return n.map(j(r))})}),O=r(function(n){return function(t){return n.reduce(function(n,r,e){return n[e]=r(t),n},[])}}),w=function(n){for(var t,r=n.slice(0),e=0;e<r.length;e++)t=Math.random()*(e+1)|0,r[t]=[r[e],r[e]=r[t]][0];return r},B=c(function(n,t){var r=function(n,t){return"number"==typeof n?n-t:n>t?1:t>n?-1:0};return t.sort(function(t,e){return r(n(t),n(e))})}),S=c(function(n,t){return t.reduce(function(t,r){var e=n(r);return t[e]=++t[e]||1,t},{})}),q=c(function(n,t){return t.replace(/#\{(.+?)\}/g,function(t,r){return n[r]||""})}),z=c(function(n,t){return t.replace(/%(\d+)/g,function(t,r){return n[--r]||""})}),E=c(function(n,t){var e=[];return t.replace(n,r(function(n){e.push.apply(e,n.slice(1,-2))})),e});o(n,{_:void 0,toArray:t,extend:o,variadic:r,compose:e,partial:u,curry:c,flip:i,is:f,isnt:a,isType:l,not:p,any:s,all:y,fold:h,map:d,filter:v,reject:g,unique:m,flatten:b,pluck:j,pluckR:k,where:x,zip:A,concatF:O,shuffle:w,sortBy:B,countBy:S,template:q,format:z,gmatch:E})}("undefined"==typeof exports?window.essential={}:exports);