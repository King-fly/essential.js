/*!
 * Essential.js
 * Functional JavaScript the right way
 * @author Cedric Ruiz
 * @license MIT
 */
!function(n){"use strict";var t=function(n){return n},r=function(n){return Array.prototype.slice.call(n)},u=function(n){return function(){var t=r(arguments),u=t.slice(0,n.length-1),e=t.slice(n.length-1);return n.apply(this,u.concat([e]))}},e=u(function(n){return n.reduce(function(n,t){return function(){return n(t.apply(this,arguments))}})}),c=u(function(n,t){return u(function(r){return n.apply(this,t.concat(r))})}),i=function(n){return function t(r){var e=u(function(u){var e=(r||[]).slice(0);return e.push.apply(e,u)<n.length&&u.length?t(e):n.apply(null,e)});return n.length>1?e:n}()},o=function(n){return u(function(t){return n.apply(this,t.reverse())})},f=i(function(n,t){return Object.keys(t).forEach(function(r){n[r]=t[r]}),n}),a=i(function(n,t){return n===t}),l=i(function(n,t){return n!==t}),p=i(function(n,t){return Object.prototype.toString.call(t).slice(8,-1)==n}),s=function(n){return function(){return!n.apply(this,arguments)}},y=i(function(n,t){return t.some(n)}),h=i(function(n,t){return t.every(n)}),d=i(function(n,t,r){return r.reduce(n,t)}),m=i(function(n,t){return t.map(n)}),g=i(function(n,t){return t.filter(n)}),v=function(n){return n.filter(function(t,r){return n.indexOf(t)==r})},b=function(n){return n.reduce(function(n,t){return n.concat([].concat(t).some(Array.isArray)?b(t):t)},[])},k=i(function(n,t){return String(n).split(".").reduce(function(n,t){return null!=n[t]?n[t]:null},t)}),x=i(function(n,t){for(var r=[];t=k(n,t);)r.push(t);return r}),A=i(function(n,t){return t.filter(function(t){return Object.keys(n).every(function(r){return n[r]==t[r]})})}),O=u(function(n){return n[0].map(function(t,r){return n.map(k(r))})}),j=u(function(n){return function(t){return n.reduce(function(n,r,u){return n[u]=r(t),n},[])}}),w=function(n){for(var t,r=0;r<n.length;r++)t=Math.random()*(r+1)|0,n[t]=[n[r],n[r]=n[t]][0];return n},S=i(function(n,t){var r=function(n,t){return"number"==typeof n?n-t:n>t?1:t>n?-1:0};return t.sort(function(t,u){return r(n(t),n(u))})}),q=i(function(n,t){return t.replace(/#\{(.+?)\}/g,function(t,r){return n[r]||""})}),z=i(function(n,t){return t.replace(/%(\d+)/g,function(t,r){return n[--r]||""})}),B=i(function(n,t){var r=[];return t.replace(n,u(function(n){r.push.apply(r,n.slice(1,-2))})),r});f(n,{id:t,toArray:r,extend:f,variadic:u,compose:e,partial:c,curry:i,flip:o,is:a,isnt:l,isType:p,not:s,any:y,all:h,fold:d,map:m,filter:g,unique:v,flatten:b,pluck:k,pluckR:x,where:A,zip:O,concatF:j,shuffle:w,sortBy:S,template:q,format:z,gmatch:B})}("undefined"==typeof exports?window.essential={}:exports);